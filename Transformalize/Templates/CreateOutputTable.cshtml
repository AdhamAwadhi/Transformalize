@using System.Linq
@using Model
@{
    //var Model = new Model.Process();  //Uncomment first part for intellisense to work
    var fields = new FieldSqlWriter(Model.OutputFields()).Alias().DataType().NotNull().Write(",\r\n");
    var key = new FieldSqlWriter(Model.Entities.Select(kv => kv.Value).First().Keys).Alias().Asc().Write();
}
CREATE TABLE [dbo].[@Model.Output](
    @fields,
CONSTRAINT [PK_@Model.Output] PRIMARY KEY CLUSTERED (
    @key
) WITH (IGNORE_DUP_KEY = ON));