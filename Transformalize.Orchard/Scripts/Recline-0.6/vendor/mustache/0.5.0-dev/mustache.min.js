/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
var Mustache=typeof module!="undefined"&&module.exports||{};(function(n){function v(n){return a.test(n)}function g(n){return String(n).replace(/&(?!\w+;)|[<>"']/g,function(n){return y[n]||n})}function i(n,t,i,r){var u,h;r=r||"<template>";var e=t.split("\n"),o=Math.max(i-3,0),c=Math.min(e.length,i+3),f=e.slice(o,c),s;for(u=0,h=f.length;u<h;++u)s=u+o+1,f[u]=(s===i?" >> ":"    ")+f[u];return n.template=t,n.line=i,n.file=r,n.message=[r+":"+i,f.join("\n"),"",n.message].join("\n"),n}function p(n,t,i){if(n===".")return t[t.length-1];for(var e=n.split("."),s=e.length-1,h=e[s],u,r,c=t.length,o,f;c;){for(f=t.slice(0),r=t[--c],o=0;o<s;){if(r=r[e[o++]],r==null)break;f.push(r)}if(r&&typeof r=="object"&&h in r){u=r[h];break}}return(typeof u=="function"&&(u=u.call(f[f.length-1])),u==null)?i:u}function nt(n,t,i,r){var o="",e=p(n,t),s,h;return r?(e==null||e===!1||f(e)&&e.length===0)&&(o+=i()):f(e)?l(e,function(n){t.push(n);o+=i();t.pop()}):typeof e=="object"?(t.push(e),o+=i(),t.pop()):typeof e=="function"?(s=t[t.length-1],h=function(n){return u(n,s)},o+=e.call(s,i(),h)||""):e&&(o+=i()),o}function w(r,u){var f,et,k,rt,d,g;u=u||{};var c=u.tags||n.tags,y=c[0],s=c[c.length-1],e=['var buffer = "";',"\nvar line = 1;","\ntry {",'\nbuffer += "'],w=[],nt=!1,p=!1,ut=function(){if(!nt||p||u.space)w=[];else while(w.length)e.splice(w.pop(),1);nt=!1;p=!1},h=[],b,tt,it,ot=function(n){c=t(n).split(/\s+/);tt=c[0];it=c[c.length-1]},st=function(n){e.push('";',b,'\nvar partial = partials["'+t(n)+'"];',"\nif (partial) {","\n  buffer += render(partial,stack[stack.length - 1],partials);","\n}",'\nbuffer += "')},ft=function(n,f){var o=t(n);if(o==="")throw i(new Error("Section name may not be empty"),r,l,u.file);h.push({name:o,inverted:f});e.push('";',b,'\nvar name = "'+o+'";',"\nvar callback = (function () {","\n  return function () {",'\n    var buffer = "";','\nbuffer += "')},ht=function(n){ft(n,!0)},ct=function(n){var f=t(n),o=h.length!=0&&h[h.length-1].name,s;if(!o||f!=o)throw i(new Error('Section named "'+f+'" was never opened'),r,l,u.file);s=h.pop();e.push('";',"\n    return buffer;","\n  };","\n})();");s.inverted?e.push("\nbuffer += renderSection(name,stack,callback,true);"):e.push("\nbuffer += renderSection(name,stack,callback);");e.push('\nbuffer += "')},lt=function(n){e.push('";',b,'\nbuffer += lookup("'+t(n)+'",stack,"");','\nbuffer += "')},at=function(n){e.push('";',b,'\nbuffer += escapeHTML(lookup("'+t(n)+'",stack,""));','\nbuffer += "')},l=1,a,o;for(f=0,et=r.length;f<et;++f)if(r.slice(f,f+y.length)===y){f+=y.length;a=r.substr(f,1);b="\nline = "+l+";";tt=y;it=s;nt=!0;switch(a){case"!":f++;o=null;break;case"=":f++;s="="+s;o=ot;break;case">":f++;o=st;break;case"#":f++;o=ft;break;case"^":f++;o=ht;break;case"/":f++;o=ct;break;case"{":s="}"+s;case"&":f++;p=!0;o=lt;break;default:p=!0;o=at}if(k=r.indexOf(s,f),k===-1)throw i(new Error('Tag "'+y+'" was not closed properly'),r,l,u.file);for(rt=r.substring(f,k),o&&o(rt),d=0;~(d=rt.indexOf("\n",d));)l++,d++;f=k+s.length-1;y=tt;s=it}else{a=r.substr(f,1);switch(a){case'"':case"\\":p=!0;e.push("\\"+a);break;case"\r":break;case"\n":w.push(e.length);e.push("\\n");ut();l++;break;default:v(a)?w.push(e.length):p=!0;e.push(a)}}if(h.length!=0)throw i(new Error('Section "'+h[h.length-1].name+'" was not closed properly'),r,l,u.file);return ut(),e.push('";',"\nreturn buffer;","\n} catch (e) { throw {error: e, line: line}; }"),g=e.join("").replace(/buffer \+= "";\n/g,""),u.debug&&(typeof console!="undefined"&&console.log?console.log(g):typeof print=="function"&&print(g)),g}function b(n,t){var r=w(n,t),f=new Function("view,partials,stack,lookup,escapeHTML,renderSection,render",r);return function(r,e){e=e||{};var s=[r];try{return f(r,e,s,p,g,nt,u)}catch(o){throw i(o.error,n,o.line,t.file);}}}function tt(){r={}}function k(n,t){return(t=t||{},t.cache!==!1)?(r[n]||(r[n]=b(n,t)),r[n]):b(n,t)}function u(n,t,i){return k(n)(t,i)}var l,a,t,e,o,y,r;n.name="mustache.js";n.version="0.5.0-dev";n.tags=["{{","}}"];n.parse=w;n.compile=k;n.render=u;n.clearCache=tt;n.to_html=function(n,t,i,r){var f=u(n,t,i);if(typeof r=="function")r(f);else return f};var d=Object.prototype.toString,s=Array.isArray,h=Array.prototype.forEach,c=String.prototype.trim,f;f=s?s:function(n){return d.call(n)==="[object Array]"};l=h?function(n,t,i){return h.call(n,t,i)}:function(n,t,i){for(var r=0,u=n.length;r<u;++r)t.call(i,n[r],r,n)};a=/^\s*$/;c?t=function(n){return n==null?"":c.call(n)}:(v(" ")?(e=/^\s+/,o=/\s+$/):(e=/^[\s\xA0]+/,o=/[\s\xA0]+$/),t=function(n){return n==null?"":String(n).replace(e,"").replace(o,"")});y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};r={}})(Mustache);
//# sourceMappingURL=mustache.min.js.map
