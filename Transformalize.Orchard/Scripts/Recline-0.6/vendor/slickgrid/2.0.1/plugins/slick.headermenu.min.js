(function(n){function t(t){function c(i){t=n.extend(!0,{},h,t);r=i;e.subscribe(r.onHeaderCellRendered,a).subscribe(r.onBeforeHeaderCellDestroy,v);r.setColumns(r.getColumns());n(document.body).bind("mousedown",o)}function l(){e.unsubscribeAll();n(document.body).unbind("mousedown",o)}function o(t){i&&i[0]!=t.target&&!n.contains(i[0],t.target)&&s()}function s(){i&&(i.remove(),i=null,f.removeClass("slick-header-column-active"))}function a(i,r){var e=r.column,f=e.header&&e.header.menu,u;f&&(u=n("<div><\/div>").addClass("slick-header-menubutton").data("column",e).data("menu",f),t.buttonCssClass&&u.addClass(t.buttonCssClass),t.buttonImage&&u.css("background-image","url("+t.buttonImage+")"),f.tooltip&&u.attr("title",f.tooltip),u.bind("click",y).appendTo(r.node))}function v(t,i){var r=i.column;r.header&&r.header.menu&&n(i.node).find(".slick-header-menubutton").remove()}function y(t){var h=n(this),c=h.data("menu"),a=h.data("column"),s,e,o,l;if(u.onBeforeMenuShow.notify({grid:r,column:a,menu:c},t,u)!=!1){for(i||(i=n("<div class='slick-header-menu'><\/div>").appendTo(r.getContainerNode())),i.empty(),s=0;s<c.items.length;s++)e=c.items[s],o=n("<div class='slick-header-menuitem'><\/div>").data("command",e.command||"").data("column",a).data("item",e).bind("click",p).appendTo(i),e.disabled&&o.addClass("slick-header-menuitem-disabled"),e.tooltip&&o.attr("title",e.tooltip),l=n("<div class='slick-header-menuicon'><\/div>").appendTo(o),e.iconCssClass&&l.addClass(e.iconCssClass),e.iconImage&&l.css("background-image","url("+e.iconImage+")"),n("<span class='slick-header-menucontent'><\/span>").text(e.title).appendTo(o);i.offset({top:n(this).offset().top+n(this).height(),left:n(this).offset().left});f=h.closest(".slick-header-column");f.addClass("slick-header-column-active");t.preventDefault();t.stopPropagation()}}function p(t){var i=n(this).data("command"),e=n(this).data("column"),f=n(this).data("item");f.disabled||(s(),i!=null&&i!=""&&u.onCommand.notify({grid:r,column:e,command:i,item:f},t,u),t.preventDefault(),t.stopPropagation())}var r,u=this,e=new Slick.EventHandler,h={buttonCssClass:null,buttonImage:null},i,f;n.extend(this,{init:c,destroy:l,onBeforeMenuShow:new Slick.Event,onCommand:new Slick.Event})}n.extend(!0,window,{Slick:{Plugins:{HeaderMenu:t}}})})(jQuery);
//# sourceMappingURL=slick.headermenu.min.js.map
