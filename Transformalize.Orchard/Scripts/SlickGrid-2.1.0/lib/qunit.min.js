(function(n){function e(){var u;if(t.doneTimer&&n.clearTimeout&&(n.clearTimeout(t.doneTimer),t.doneTimer=null),t.queue.length){t.doneTimer=n.setTimeout(function(){t.queue.length?o(e):e()},13);return}t.autorun=!0;t.currentModule&&i.moduleDone(t.currentModule,t.moduleStats.bad,t.moduleStats.all);var s=r("qunit-banner"),f=r("qunit-tests"),h=["Tests completed in ",+new Date-t.started," milliseconds.<br/>",'<span class="passed">',t.stats.all-t.stats.bad,'<\/span> tests of <span class="total">',t.stats.all,'<\/span> passed, <span class="failed">',t.stats.bad,"<\/span> failed."].join("");s&&(s.className=t.stats.bad?"qunit-fail":"qunit-pass");f&&(u=r("qunit-testresult"),u||(u=document.createElement("p"),u.id="qunit-testresult",u.className="result",f.parentNode.insertBefore(u,f.nextSibling)),u.innerHTML=h);i.done(t.stats.bad,t.stats.all)}function v(n){var u=t.filters.length,f=!1,i,r;if(!u)return!0;while(u--){if(i=t.filters[u],r=i.charAt(0)=="!",r&&(i=i.slice(1)),n.indexOf(i)!==-1)return!r;r&&(f=!0)}return f}function f(n,t,r,u){u=u||(n?"okay":"failed");i.ok(n,n?u+": "+i.jsDump.parse(r):u+", expected: "+i.jsDump.parse(r)+" result: "+i.jsDump.parse(t))}function o(n){t.queue.push(n);t.autorun&&!t.blocking&&h()}function h(){for(var n=(new Date).getTime();t.queue.length&&!t.blocking;)if(t.updateRate<=0||(new Date).getTime()-n<t.updateRate)t.queue.shift()();else{setTimeout(h,13);break}}function c(){if(t.pollution=[],t.noglobals)for(var i in n)t.pollution.push(i)}function y(){var r=t.pollution,n,i;c();n=l(r,t.pollution);n.length>0&&(ok(!1,"Introduced global variable(s): "+n.join(", ")),t.expected++);i=l(t.pollution,r);i.length>0&&(ok(!1,"Deleted global variable(s): "+i.join(", ")),t.expected++)}function l(n,t){for(var u,r=n.slice(),i=0;i<r.length;i++)for(u=0;u<t.length;u++)if(r[i]===t[u]){r.splice(i,1);i--;break}return r}function a(t,i,r){typeof console!="undefined"&&console.error&&console.warn?(console.error(t),console.error(i),console.warn(r.toString())):n.opera&&opera.postError&&opera.postError(t,i,r.toString)}function u(n,t){for(var i in t)n[i]=t[i];return n}function s(n,t,i){n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent?n.attachEvent("on"+t,i):i()}function r(n){return!!(typeof document!="undefined"&&document&&document.getElementById)&&document.getElementById(n)}var i={init:function(){t={stats:{all:0,bad:0},moduleStats:{all:0,bad:0},started:+new Date,updateRate:1e3,blocking:!1,autorun:!1,assertions:[],filters:[],queue:[]};var i=r("qunit-tests"),u=r("qunit-banner"),n=r("qunit-testresult");i&&(i.innerHTML="");u&&(u.className="");n&&n.parentNode.removeChild(n)},module:function(n,r){t.currentModule=n;o(function(){t.currentModule&&i.moduleDone(t.currentModule,t.moduleStats.bad,t.moduleStats.all);t.currentModule=n;t.moduleTestEnvironment=r;t.moduleStats={all:0,bad:0};i.moduleStart(n,r)})},asyncTest:function(n,t,r){arguments.length===2&&(r=t,t=0);i.test(n,t,r,!0)},test:function(f,h,l,p){var w=f,b,k;(arguments.length===2&&(l=h,h=null),h&&typeof h=="object"&&(k=h,h=null),t.currentModule&&(w=t.currentModule+" module: "+w),v(w))&&(o(function(){i.testStart(f);b=u({setup:function(){},teardown:function(){}},t.moduleTestEnvironment);k&&u(b,k);i.current_testEnvironment=b;t.assertions=[];t.expected=h;try{t.pollution||c();b.setup.call(b)}catch(n){i.ok(!1,"Setup failed on "+w+": "+n.message)}p&&i.stop();try{l.call(b)}catch(n){a("Test "+w+" died, exception and test follows",n,l);i.ok(!1,"Died on test #"+(t.assertions.length+1)+": "+n.message);c();t.blocking&&start()}}),o(function(){var l,v,c,u,p,o;try{y();b.teardown.call(b)}catch(k){i.ok(!1,"Teardown failed on "+w+": "+k.message)}try{i.reset()}catch(k){a("reset() failed, following Test "+w+", exception and reset fn follows",k,reset)}t.expected&&t.expected!=t.assertions.length&&i.ok(!1,"Expected "+t.expected+" assertions, but "+t.assertions.length+" were run");var d=0,h=0,g=r("qunit-tests");if(t.stats.all+=t.assertions.length,t.moduleStats.all+=t.assertions.length,g){for(l=document.createElement("ol"),l.style.display="none",o=0;o<t.assertions.length;o++)v=t.assertions[o],u=document.createElement("li"),u.className=v.result?"pass":"fail",u.appendChild(document.createTextNode(v.message||"(no message)")),l.appendChild(u),v.result?d++:(h++,t.stats.bad++,t.moduleStats.bad++);c=document.createElement("strong");c.innerHTML=w+" <b style='color:black;'>(<b class='fail'>"+h+"<\/b>, <b class='pass'>"+d+"<\/b>, "+t.assertions.length+")<\/b>";s(c,"click",function(){var n=c.nextSibling,t=n.style.display;n.style.display=t==="none"?"block":"none"});s(c,"dblclick",function(t){var u=t&&t.target?t.target:n.event.srcElement,i,r;if(u.nodeName.toLowerCase()==="strong"){for(i="",r=u.firstChild;r.nodeType===3;)i+=r.nodeValue,r=r.nextSibling;i=i.replace(/(^\s*|\s*$)/g,"");n.location&&(n.location.href=n.location.href.match(/^(.+?)(\?.*)?$/)[1]+"?"+encodeURIComponent(i))}});u=document.createElement("li");u.className=h?"fail":"pass";u.appendChild(c);u.appendChild(l);g.appendChild(u);h&&(p=r("qunit-testrunner-toolbar"),p&&(p.style.display="block",r("qunit-filter-pass").disabled=null,r("qunit-filter-missing").disabled=null))}else for(o=0;o<t.assertions.length;o++)t.assertions[o].result||(h++,t.stats.bad++,t.moduleStats.bad++);i.testDone(f,h,t.assertions.length);n.setTimeout||t.queue.length||e()}),n.setTimeout&&!t.doneTimer&&(t.doneTimer=n.setTimeout(function(){t.queue.length?o(e):e()},13)))},expect:function(n){t.expected=n},ok:function(n,r){i.log(n,r);t.assertions.push({result:!!n,message:r})},equal:function(n,t,i){f(t==n,n,t,i)},notEqual:function(n,t,i){f(t!=n,n,t,i)},deepEqual:function(n,t,r){f(i.equiv(n,t),n,t,r)},notDeepEqual:function(n,t,r){f(!i.equiv(n,t),n,t,r)},strictEqual:function(n,t,i){f(t===n,n,t,i)},notStrictEqual:function(n,t,i){f(t!==n,n,t,i)},start:function(){n.setTimeout?n.setTimeout(function(){t.timeout&&clearTimeout(t.timeout);t.blocking=!1;h()},13):(t.blocking=!1,h())},stop:function(r){t.blocking=!0;r&&n.setTimeout&&(t.timeout=n.setTimeout(function(){i.ok(!1,"Test timed out");i.start()},r))},reset:function(){n.jQuery&&(jQuery("#main").html(t.fixture),jQuery.event.global={},jQuery.ajaxSettings=u({},t.ajaxSettings))},triggerEvent:function(n,t,i){document.createEvent?(i=document.createEvent("MouseEvents"),i.initMouseEvent(t,!0,!0,n.ownerDocument.defaultView,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(i)):n.fireEvent&&n.fireEvent("on"+t)},is:function(n,t){return Object.prototype.toString.call(t)==="[object "+n+"]"},done:function(){},log:function(){},testStart:function(){},testDone:function(){},moduleStart:function(){},moduleDone:function(){}},t;i.equals=i.equal;i.same=i.deepEqual;t={queue:[],blocking:!0},function(){for(var f=n.location||{search:"",protocol:"file:"},u=f.search.slice(1).split("&"),r=0;r<u.length;r++)u[r]=decodeURIComponent(u[r]),u[r]==="noglobals"?(u.splice(r,1),r--,t.noglobals=!0):u[r].search("=")>-1&&(u.splice(r,1),r--);t.filters=u;i.isLocal=!!(f.protocol==="file:")}();typeof exports=="undefined"||typeof require=="undefined"?(u(n,i),n.QUnit=i):(u(exports,i),exports.QUnit=i);(typeof document=="undefined"||document.readyState==="complete")&&(t.autorun=!0);s(n,"load",function(){var a=u({},t),c,e,o,f,h,l;i.init();u(t,a);t.blocking=!1;c=r("qunit-userAgent");c&&(c.innerHTML=navigator.userAgent);e=r("qunit-testrunner-toolbar");e&&(e.style.display="none",o=document.createElement("input"),o.type="checkbox",o.id="qunit-filter-pass",o.disabled=!0,s(o,"click",function(){for(var t=document.getElementsByTagName("li"),n=0;n<t.length;n++)t[n].className.indexOf("pass")>-1&&(t[n].style.display=o.checked?"none":"")}),e.appendChild(o),f=document.createElement("label"),f.setAttribute("for","qunit-filter-pass"),f.innerHTML="Hide passed tests",e.appendChild(f),h=document.createElement("input"),h.type="checkbox",h.id="qunit-filter-missing",h.disabled=!0,s(h,"click",function(){for(var t=document.getElementsByTagName("li"),n=0;n<t.length;n++)t[n].className.indexOf("fail")>-1&&t[n].innerHTML.indexOf("missing test - untested code is broken code")>-1&&(t[n].parentNode.parentNode.style.display=h.checked?"none":"block")}),e.appendChild(h),f=document.createElement("label"),f.setAttribute("for","qunit-filter-missing"),f.innerHTML="Hide missing tests (untested code is broken code)",e.appendChild(f));l=r("main");l&&(t.fixture=l.innerHTML);n.jQuery&&(t.ajaxSettings=n.jQuery.ajaxSettings);i.start()});i.equiv=function(){function t(n){return i.is("String",n)?"string":i.is("Boolean",n)?"boolean":i.is("Number",n)?isNaN(n)?"nan":"number":typeof n=="undefined"?"undefined":n===null?"null":i.is("Array",n)?"array":i.is("Date",n)?"date":i.is("RegExp",n)?"regexp":typeof n=="object"?"object":i.is("Function",n)?"function":undefined}function f(n,i,r){var u=t(n);if(u)return t(i[u])==="function"?i[u].apply(i,r):i[u]}var r,u=[],n=[],e=function(){function i(n,t){return n instanceof t.constructor||t instanceof n.constructor?t==n:t===n}return{string:i,boolean:i,number:i,"null":i,undefined:i,nan:function(n){return isNaN(n)},date:function(n,i){return t(n)==="date"&&i.valueOf()===n.valueOf()},regexp:function(n,i){return t(n)==="regexp"&&i.source===n.source&&i.global===n.global&&i.ignoreCase===n.ignoreCase&&i.multiline===n.multiline},"function":function(){var n=u[u.length-1];return n!==Object&&typeof n!="undefined"},array:function(i,u){var f,e,o,s;if(!(t(i)==="array")||(s=u.length,s!==i.length))return!1;for(n.push(u),f=0;f<s;f++){for(o=!1,e=0;e<n.length;e++)n[e]===u[f]&&(o=!0);if(!o&&!r(u[f],i[f]))return n.pop(),!1}return n.pop(),!0},object:function(t,i){var f,e,o,s=!0,h=[],c=[];if(i.constructor!==t.constructor)return!1;u.push(i.constructor);n.push(i);for(f in i){for(o=!1,e=0;e<n.length;e++)n[e]===i[f]&&(o=!0);if(h.push(f),!o&&!r(i[f],t[f])){s=!1;break}}u.pop();n.pop();for(f in t)c.push(f);return s&&r(h.sort(),c.sort())}}}();return r=function(){var n=Array.prototype.slice.apply(arguments);return n.length<2?!0:function(n,i){return n===i?!0:n===null||i===null||typeof n=="undefined"||typeof i=="undefined"||t(n)!==t(i)?!1:f(n,e,[i,n])}(n[0],n[1])&&arguments.callee.apply(this,n.splice(1,n.length-1))}}();i.jsDump=function(){function n(n){return'"'+n.toString().replace(/"/g,'\\"')+'"'}function t(n){return n+""}function r(n,t,i){var r=u.separator(),e=u.indent(),f=u.indent(1);return(t.join&&(t=t.join(","+r+f)),!t)?n+i:[n,f+t,e+i].join(r)}function f(n){var t=n.length,i=Array(t);for(this.up();t--;)i[t]=this.parse(n[t]);return this.down(),r("[",i,"]")}var e=/^function (\w+)/,u={parse:function(n,t){var i=this.parsers[t||this.typeOf(n)];return t=typeof i,t=="function"?i.call(this,n):t=="string"?i:this.parsers.error},typeOf:function(n){return n===null?"null":typeof n=="undefined"?"undefined":i.is("RegExp",n)?"regexp":i.is("Date",n)?"date":i.is("Function",n)?"function":n.setInterval&&n.document&&!n.nodeType?"window":n.nodeType===9?"document":n.nodeType?"node":typeof n=="object"&&typeof n.length=="number"&&n.length>=0?"array":typeof n},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"&nbsp;":" "},indent:function(n){if(!this.multiline)return"";var t=this.indentChar;return this.HTML&&(t=t.replace(/\t/g,"   ").replace(/ /g,"&nbsp;")),Array(this._depth_+(n||0)).join(t)},up:function(n){this._depth_+=n||1},down:function(n){this._depth_-=n||1},setParser:function(n,t){this.parsers[n]=t},quote:n,literal:t,join:r,_depth_:1,parsers:{window:"[Window]",document:"[Document]",error:"[ERROR]",unknown:"[Unknown]","null":"null",undefined:"undefined","function":function(n){var t="function",i="name"in n?n.name:(e.exec(n)||[])[1];return i&&(t+=" "+i),t+="(",t=[t,this.parse(n,"functionArgs"),"){"].join(""),r(t,this.parse(n,"functionCode"),"}")},array:f,nodelist:f,arguments:f,object:function(n){var i=[],t;this.up();for(t in n)i.push(this.parse(t,"key")+": "+this.parse(n[t]));return this.down(),r("{",i,"}")},node:function(n){var r=this.HTML?"&lt;":"<",u=this.HTML?"&gt;":">",f=n.nodeName.toLowerCase(),e=r+f,t,i;for(t in this.DOMAttrs)i=n[this.DOMAttrs[t]],i&&(e+=" "+t+"="+this.parse(i,"attribute"));return e+u+r+"/"+f+u},functionArgs:function(n){var t=n.length,i;if(!t)return"";for(i=Array(t);t--;)i[t]=String.fromCharCode(97+t);return" "+i.join(", ")+" "},key:n,functionCode:"[code]",attribute:n,string:n,date:n,regexp:t,number:t,boolean:t},DOMAttrs:{id:"id",name:"name","class":"className"},HTML:!1,indentChar:"   ",multiline:!1};return u}()})(this);
//# sourceMappingURL=qunit.min.js.map
